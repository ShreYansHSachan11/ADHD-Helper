<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Focus Productivity Extension - Tabbed Interface Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup/popup.css" />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .demo-container {
        max-width: 400px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        overflow: hidden;
      }

      .demo-header {
        background: var(--md-sys-color-primary);
        color: white;
        padding: 20px;
        text-align: center;
      }

      .demo-content {
        padding: 0;
      }

      /* Override container styles for demo */
      .container {
        width: 100%;
        max-width: none;
        margin: 0;
        box-shadow: none;
        border-radius: 0;
      }

      .header {
        background: transparent;
        color: var(--md-sys-color-on-surface);
        border-bottom: 1px solid var(--md-sys-color-outline-variant);
        margin-bottom: 0;
      }

      .debug-panel {
        background: #f8f9fa;
        border-top: 1px solid #dee2e6;
        padding: 16px;
        font-family: "Roboto Mono", monospace;
        font-size: 12px;
      }

      .debug-panel h4 {
        margin: 0 0 8px 0;
        font-family: "Roboto", sans-serif;
      }

      .debug-info {
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        padding: 8px;
        margin-top: 8px;
        max-height: 100px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <div class="demo-header">
        <h1>üéØ Focus Productivity Extension</h1>
        <p>Tabbed Interface Demo</p>
      </div>

      <div class="demo-content">
        <!-- Include the popup HTML structure -->
        <div class="container">
          <!-- Header Section -->
          <header class="header">
            <h1 class="title">Focus Productivity</h1>
            <button class="settings-btn" id="settingsBtn" aria-label="Settings">
              ‚öôÔ∏è
            </button>
          </header>

          <!-- Navigation Tabs -->
          <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="overview" id="overviewTab">
              <span class="tab-icon">üìä</span>
              <span class="tab-label">Overview</span>
            </button>
            <button class="tab-btn" data-tab="screen-time" id="screenTimeTab">
              <span class="tab-icon">‚è∞</span>
              <span class="tab-label">Screen Time</span>
            </button>
            <button class="tab-btn" data-tab="focus" id="focusTab">
              <span class="tab-icon">üéØ</span>
              <span class="tab-label">Focus</span>
            </button>
            <button class="tab-btn" data-tab="pomodoro" id="pomodoroTab">
              <span class="tab-icon">üçÖ</span>
              <span class="tab-label">Pomodoro</span>
            </button>
            <button class="tab-btn" data-tab="tasks" id="tasksTab">
              <span class="tab-icon">üìù</span>
              <span class="tab-label">Tasks</span>
            </button>
            <button class="tab-btn" data-tab="calendar" id="calendarTab">
              <span class="tab-icon">üìÖ</span>
              <span class="tab-label">Calendar</span>
            </button>
            <button class="tab-btn" data-tab="wellness" id="wellnessTab">
              <span class="tab-icon">üßò</span>
              <span class="tab-label">Wellness</span>
            </button>
          </nav>

          <!-- Tab Content Panels -->
          <div class="tab-content">
            <!-- Overview Panel -->
            <div class="tab-panel active" id="overviewPanel">
              <div class="overview-grid">
                <div class="overview-card" id="screenTimeOverview">
                  <div class="card-header">
                    <span class="card-icon">‚è∞</span>
                    <h3>Screen Time</h3>
                  </div>
                  <div class="card-content">
                    <div class="stat-large" id="overviewCurrentTime">45m</div>
                    <div class="stat-label">Today's Session</div>
                  </div>
                  <button class="card-action" data-tab="screen-time">
                    Manage ‚Üí
                  </button>
                </div>

                <div class="overview-card" id="focusOverview">
                  <div class="card-header">
                    <span class="card-icon">üéØ</span>
                    <h3>Focus Status</h3>
                  </div>
                  <div class="card-content">
                    <div class="focus-status-mini" id="overviewFocusStatus">
                      <span
                        class="status-dot active"
                        id="overviewFocusStatusDot"
                      ></span>
                      <span class="status-text" id="overviewFocusStatusText"
                        >Active</span
                      >
                    </div>
                  </div>
                  <button class="card-action" data-tab="focus">
                    Configure ‚Üí
                  </button>
                </div>

                <div class="overview-card" id="pomodoroOverview">
                  <div class="card-header">
                    <span class="card-icon">üçÖ</span>
                    <h3>Pomodoro</h3>
                  </div>
                  <div class="card-content">
                    <div class="stat-large" id="overviewPomodoroSessions">
                      3
                    </div>
                    <div class="stat-label">Sessions Today</div>
                  </div>
                  <button class="card-action" data-tab="pomodoro">
                    Start Timer ‚Üí
                  </button>
                </div>

                <div class="overview-card" id="wellnessOverview">
                  <div class="card-header">
                    <span class="card-icon">üßò</span>
                    <h3>Wellness</h3>
                  </div>
                  <div class="card-content">
                    <div class="wellness-quick-actions">
                      <button class="quick-action-btn" id="quickBreathingBtn">
                        <span class="icon">ü´Å</span>
                        <span>Breathe</span>
                      </button>
                      <button class="quick-action-btn" id="quickWhiteNoiseBtn">
                        <span class="icon">üîä</span>
                        <span>Sounds</span>
                      </button>
                    </div>
                  </div>
                  <button class="card-action" data-tab="wellness">
                    More Tools ‚Üí
                  </button>
                </div>
              </div>

              <div class="quick-actions">
                <h3>Quick Actions</h3>
                <div class="quick-actions-grid">
                  <button class="btn btn-primary" id="quickFocusBtn">
                    <span class="icon">üéØ</span>
                    <span>Set Focus Tab</span>
                  </button>
                  <button class="btn btn-secondary" id="quickBreakBtn">
                    <span class="icon">‚òï</span>
                    <span>Take Break</span>
                  </button>
                  <button class="btn btn-wellness" id="quickPomodoroBtn">
                    <span class="icon">üçÖ</span>
                    <span>Start Pomodoro</span>
                  </button>
                </div>
              </div>
            </div>

            <!-- Screen Time Panel -->
            <div class="tab-panel" id="screenTimePanel">
              <div class="panel-header">
                <h2>Screen Time Monitoring</h2>
                <span class="current-time" id="currentTime">45m</span>
              </div>
              <div class="panel-content">
                <div class="time-limit-control">
                  <label for="timeLimitInput">Break reminder after:</label>
                  <div class="input-group">
                    <input
                      type="number"
                      id="timeLimitInput"
                      min="5"
                      max="180"
                      value="30"
                    />
                    <span>minutes</span>
                  </div>
                </div>
                <div class="screen-time-controls">
                  <button class="btn btn-secondary" id="takeBreakBtn">
                    Take Break Now
                  </button>
                  <button class="btn btn-small" id="resetScreenTimeBtn">
                    Reset Data
                  </button>
                </div>
              </div>
            </div>

            <!-- Focus Tracking Panel -->
            <div class="tab-panel" id="focusPanel">
              <div class="panel-header">
                <h2>Focus Tracking</h2>
                <div class="focus-status-indicator" id="focusStatusIndicator">
                  <span class="status-dot active" id="focusStatusDot"></span>
                  <span class="status-text" id="focusStatusText">Active</span>
                </div>
              </div>
              <div class="panel-content">
                <div class="focus-tab-display">
                  <span class="focus-label">Focus Tab:</span>
                  <span class="focus-url" id="focusUrl">example.com</span>
                </div>
                <div class="focus-controls">
                  <button class="btn btn-secondary" id="setFocusBtn">
                    Set Current Tab as Focus
                  </button>
                  <button class="btn btn-small" id="resetFocusBtn">
                    Reset
                  </button>
                </div>
              </div>
            </div>

            <!-- Pomodoro Timer Panel -->
            <div class="tab-panel" id="pomodoroPanel">
              <div class="panel-header">
                <h2>Pomodoro Timer</h2>
              </div>
              <div class="panel-content">
                <div id="pomodoroContainer">
                  <div class="pomodoro-timer">
                    <div class="timer-display">
                      <div class="session-type">Ready to Focus</div>
                      <div class="timer-circle">
                        <svg width="160" height="160">
                          <circle
                            cx="80"
                            cy="80"
                            r="45"
                            class="timer-progress"
                          />
                        </svg>
                        <div class="timer-time">25:00</div>
                      </div>
                      <div class="session-info">Click Start to begin</div>
                    </div>
                    <div class="timer-controls">
                      <button class="btn btn-primary">
                        <span class="btn-icon">‚ñ∂</span>
                        <span class="btn-text">Start</span>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Task Management Panel -->
            <div class="tab-panel" id="tasksPanel">
              <div class="panel-header">
                <h2>AI Task Breakdown</h2>
              </div>
              <div class="panel-content">
                <div class="task-input-group">
                  <input
                    type="text"
                    id="taskNameInput"
                    placeholder="Enter task name"
                    class="task-input"
                  />
                  <input
                    type="datetime-local"
                    id="taskDeadlineInput"
                    class="task-input"
                  />
                </div>
                <button class="btn btn-primary" id="getBreakdownBtn">
                  Get AI Breakdown
                </button>
              </div>
            </div>

            <!-- Calendar Integration Panel -->
            <div class="tab-panel" id="calendarPanel">
              <div class="panel-header">
                <h2>Calendar Reminders</h2>
                <div class="calendar-connection-status">
                  <span class="connection-dot"></span>
                  <span class="connection-text">Not Connected</span>
                </div>
              </div>
              <div class="panel-content">
                <div class="calendar-reminder-form">
                  <div class="reminder-input-group">
                    <input
                      type="text"
                      placeholder="Task name"
                      class="reminder-input"
                    />
                    <input type="datetime-local" class="reminder-input" />
                  </div>
                  <button class="btn btn-primary">
                    Create Calendar Reminders
                  </button>
                </div>
              </div>
            </div>

            <!-- Wellness Tools Panel -->
            <div class="tab-panel" id="wellnessPanel">
              <div class="panel-header">
                <h2>Wellness Tools</h2>
              </div>
              <div class="panel-content">
                <div class="wellness-controls">
                  <div class="breathing-control">
                    <button class="btn btn-wellness">
                      <span class="icon">ü´Å</span>
                      <span>Breathing Exercise</span>
                    </button>
                  </div>
                  <div class="audio-control">
                    <button class="btn btn-wellness toggle-btn">
                      <span class="icon">üîä</span>
                      <span>White Noise</span>
                    </button>
                  </div>
                </div>

                <div class="external-tools">
                  <h3>Additional Tools</h3>
                  <div class="external-buttons">
                    <button class="btn btn-external">
                      <span class="icon">üßò</span>
                      <span>Focus & Anxiety Management</span>
                    </button>
                    <button class="btn btn-external">
                      <span class="icon">üéµ</span>
                      <span>ASMR & Fidgeting Tools</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="debug-panel">
        <h4>Debug Information</h4>
        <div>Current Tab: <span id="currentTabDebug">overview</span></div>
        <div>Tab Switches: <span id="tabSwitchCount">0</span></div>
        <div class="debug-info" id="debugLog">
          <div>Demo loaded successfully</div>
        </div>
      </div>
    </div>

    <script>
      // Simple tab switching demo functionality
      let tabSwitchCount = 0;
      let currentTab = "overview";

      function updateDebug(message) {
        const debugLog = document.getElementById("debugLog");
        const timestamp = new Date().toLocaleTimeString();
        const logEntry = document.createElement("div");
        logEntry.textContent = `${timestamp}: ${message}`;
        debugLog.appendChild(logEntry);
        debugLog.scrollTop = debugLog.scrollHeight;

        // Keep only last 5 entries
        while (debugLog.children.length > 5) {
          debugLog.removeChild(debugLog.firstChild);
        }
      }

      function switchToTab(tabId) {
        // Update debug info
        tabSwitchCount++;
        currentTab = tabId;
        document.getElementById("currentTabDebug").textContent = tabId;
        document.getElementById("tabSwitchCount").textContent = tabSwitchCount;
        updateDebug(`Switched to ${tabId} tab`);

        // Update tab buttons
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.tab === tabId);
        });

        // Update tab panels
        document.querySelectorAll(".tab-panel").forEach((panel) => {
          if (
            panel.classList.contains("active") &&
            panel.id !== `${tabId}Panel`
          ) {
            panel.classList.add("switching-out");
            setTimeout(() => {
              panel.classList.remove("active", "switching-out");
            }, 100);
          }
        });

        // Show new panel
        setTimeout(() => {
          const targetPanel = document.getElementById(`${tabId}Panel`);
          if (targetPanel) {
            targetPanel.classList.add("active");
          }
        }, 100);
      }

      // Initialize demo
      document.addEventListener("DOMContentLoaded", () => {
        // Tab navigation listeners
        document.querySelectorAll(".tab-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const tabId = e.currentTarget.dataset.tab;
            switchToTab(tabId);
          });
        });

        // Card action listeners
        document.querySelectorAll(".card-action").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const tabId = e.currentTarget.dataset.tab;
            if (tabId) {
              switchToTab(tabId);
            }
          });
        });

        // Quick action listeners
        document
          .getElementById("quickFocusBtn")
          ?.addEventListener("click", () => {
            switchToTab("focus");
            updateDebug("Quick action: Set focus tab");
          });

        document
          .getElementById("quickBreakBtn")
          ?.addEventListener("click", () => {
            updateDebug("Quick action: Take break");
          });

        document
          .getElementById("quickPomodoroBtn")
          ?.addEventListener("click", () => {
            switchToTab("pomodoro");
            updateDebug("Quick action: Start Pomodoro");
          });

        updateDebug("Tab interface demo initialized");
      });

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey || e.metaKey) {
          const keyMap = {
            1: "overview",
            2: "screen-time",
            3: "focus",
            4: "pomodoro",
            5: "tasks",
            6: "calendar",
            7: "wellness",
          };

          if (keyMap[e.key]) {
            e.preventDefault();
            switchToTab(keyMap[e.key]);
            updateDebug(`Keyboard shortcut: Ctrl+${e.key}`);
          }
        }
      });

      console.log("Focus Productivity Extension - Tabbed Interface Demo");
      console.log("Use Ctrl+1-7 to switch between tabs");
    </script>
  </body>
</html>
