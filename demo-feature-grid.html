<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Focus Productivity Extension - Feature Grid Demo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="popup/popup.css" />
    <style>
      body {
        font-family: "Roboto", sans-serif;
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
      }

      .demo-container {
        max-width: 400px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        overflow: hidden;
      }

      .demo-header {
        background: var(--md-sys-color-primary);
        color: white;
        padding: 20px;
        text-align: center;
      }

      .demo-content {
        padding: 0;
      }

      /* Override container styles for demo */
      .container {
        width: 100%;
        max-width: none;
        margin: 0;
        box-shadow: none;
        border-radius: 0;
      }

      .header {
        background: transparent;
        color: var(--md-sys-color-on-surface);
        border-bottom: 1px solid var(--md-sys-color-outline-variant);
        margin-bottom: 0;
      }

      .debug-panel {
        background: #f8f9fa;
        border-top: 1px solid #dee2e6;
        padding: 16px;
        font-family: "Roboto Mono", monospace;
        font-size: 12px;
      }

      .debug-panel h4 {
        margin: 0 0 8px 0;
        font-family: "Roboto", sans-serif;
      }

      .debug-info {
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        padding: 8px;
        margin-top: 8px;
        max-height: 100px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <div class="demo-header">
        <h1>üéØ Focus Productivity Extension</h1>
        <p>Feature Grid Interface Demo</p>
      </div>

      <div class="demo-content">
        <!-- Include the popup HTML structure -->
        <div class="container">
          <!-- Header Section -->
          <header class="header">
            <h1 class="title">Focus Productivity</h1>
            <button class="settings-btn" id="settingsBtn" aria-label="Settings">
              ‚öôÔ∏è
            </button>
          </header>

          <!-- Feature Grid Navigation -->
          <nav class="feature-grid">
            <button
              class="feature-btn"
              data-feature="break-reminder"
              id="breakReminderBtn"
            >
              <span class="feature-icon">‚è∞</span>
              <span class="feature-label">Break Reminder</span>
            </button>
            <button
              class="feature-btn"
              data-feature="focus-tracking"
              id="focusTrackingBtn"
            >
              <span class="feature-icon">üéØ</span>
              <span class="feature-label">Focus Tracking</span>
            </button>
            <button
              class="feature-btn"
              data-feature="pomodoro"
              id="pomodoroBtn"
            >
              <span class="feature-icon">üçÖ</span>
              <span class="feature-label">Pomodoro</span>
            </button>
            <button
              class="feature-btn"
              data-feature="breathing"
              id="breathingBtn"
            >
              <span class="feature-icon">ü´Å</span>
              <span class="feature-label">Breathing Technique</span>
            </button>
            <button
              class="feature-btn"
              data-feature="task-breakdown"
              id="taskBreakdownBtn"
            >
              <span class="feature-icon">üìù</span>
              <span class="feature-label">Task Breakdown</span>
            </button>
            <button
              class="feature-btn"
              data-feature="calendar"
              id="calendarBtn"
            >
              <span class="feature-icon">üìÖ</span>
              <span class="feature-label">Calendar</span>
            </button>
            <button
              class="feature-btn"
              data-feature="white-noise"
              id="whiteNoiseBtn"
            >
              <span class="feature-icon">üîä</span>
              <span class="feature-label">White Noise</span>
            </button>
            <button
              class="feature-btn"
              data-feature="asmr-toys"
              id="asmrToysBtn"
            >
              <span class="feature-icon">üéµ</span>
              <span class="feature-label">ASMR Toys</span>
            </button>
            <button
              class="feature-btn"
              data-feature="wellness-tools"
              id="wellnessToolsBtn"
            >
              <span class="feature-icon">üßò</span>
              <span class="feature-label">Wellness Tools</span>
            </button>
          </nav>

          <!-- Feature Content Panels -->
          <div class="feature-content">
            <!-- Home Panel (Default) -->
            <div class="feature-panel active" id="homePanel">
              <div class="welcome-message">
                <h2>Welcome to Focus Productivity</h2>
                <p>
                  Select a feature above to get started with your productivity
                  journey.
                </p>

                <div class="quick-stats">
                  <div class="stat-card">
                    <div class="stat-icon">‚è∞</div>
                    <div class="stat-info">
                      <div class="stat-value" id="todayScreenTime">45m</div>
                      <div class="stat-label">Screen Time Today</div>
                    </div>
                  </div>
                  <div class="stat-card">
                    <div class="stat-icon">üçÖ</div>
                    <div class="stat-info">
                      <div class="stat-value" id="todayPomodoros">3</div>
                      <div class="stat-label">Pomodoros Today</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Break Reminder Panel -->
            <div class="feature-panel" id="breakReminderPanel">
              <div class="panel-header">
                <h2>Break Reminder</h2>
                <span class="current-time" id="currentTime">45m</span>
              </div>
              <div class="panel-content">
                <div class="time-limit-control">
                  <label for="timeLimitInput">Break reminder after:</label>
                  <div class="input-group">
                    <input
                      type="number"
                      id="timeLimitInput"
                      min="5"
                      max="180"
                      value="30"
                    />
                    <span>minutes</span>
                  </div>
                </div>
                <div class="screen-time-controls">
                  <button class="btn btn-secondary" id="takeBreakBtn">
                    Take Break Now
                  </button>
                  <button class="btn btn-small" id="resetScreenTimeBtn">
                    Reset Data
                  </button>
                </div>
              </div>
            </div>

            <!-- Focus Tracking Panel -->
            <div class="feature-panel" id="focusTrackingPanel">
              <div class="panel-header">
                <h2>Focus Tracking</h2>
                <div class="focus-status-indicator">
                  <span class="status-dot active"></span>
                  <span class="status-text">Active</span>
                </div>
              </div>
              <div class="panel-content">
                <div class="focus-tab-display">
                  <span class="focus-label">Focus Tab:</span>
                  <span class="focus-url">example.com</span>
                </div>
                <div class="focus-controls">
                  <button class="btn btn-secondary">
                    Set Current Tab as Focus
                  </button>
                  <button class="btn btn-small">Reset</button>
                </div>
              </div>
            </div>

            <!-- Pomodoro Panel -->
            <div class="feature-panel" id="pomodoroPanel">
              <div class="panel-header">
                <h2>Pomodoro Timer</h2>
              </div>
              <div class="panel-content">
                <div class="pomodoro-timer">
                  <div class="timer-display">
                    <div class="session-type">Ready to Focus</div>
                    <div class="timer-circle">
                      <svg width="160" height="160">
                        <circle cx="80" cy="80" r="45" class="timer-progress" />
                      </svg>
                      <div class="timer-time">25:00</div>
                    </div>
                    <div class="session-info">Click Start to begin</div>
                  </div>
                  <div class="timer-controls">
                    <button class="btn btn-primary">
                      <span class="btn-icon">‚ñ∂</span>
                      <span class="btn-text">Start</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Breathing Technique Panel -->
            <div class="feature-panel" id="breathingPanel">
              <div class="panel-header">
                <h2>Breathing Technique</h2>
              </div>
              <div class="panel-content">
                <div class="breathing-intro">
                  <p>
                    Take a moment to center yourself with guided breathing
                    exercises.
                  </p>
                </div>
                <div class="breathing-controls">
                  <button class="btn btn-primary btn-large">
                    <span class="icon">ü´Å</span>
                    <span>Start Breathing Exercise</span>
                  </button>
                </div>
                <div class="breathing-options">
                  <h3>Breathing Techniques</h3>
                  <div class="technique-grid">
                    <button class="technique-btn">
                      <span class="technique-name">4-7-8 Breathing</span>
                      <span class="technique-desc">Relaxation technique</span>
                    </button>
                    <button class="technique-btn">
                      <span class="technique-name">Box Breathing</span>
                      <span class="technique-desc">Focus and calm</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Task Breakdown Panel -->
            <div class="feature-panel" id="taskBreakdownPanel">
              <div class="panel-header">
                <h2>AI Task Breakdown</h2>
              </div>
              <div class="panel-content">
                <div class="task-input-group">
                  <input
                    type="text"
                    placeholder="Enter task name"
                    class="task-input"
                  />
                  <input type="datetime-local" class="task-input" />
                </div>
                <button class="btn btn-primary">Get AI Breakdown</button>
              </div>
            </div>

            <!-- Calendar Panel -->
            <div class="feature-panel" id="calendarPanel">
              <div class="panel-header">
                <h2>Calendar Integration</h2>
                <div class="calendar-connection-status">
                  <span class="connection-dot"></span>
                  <span class="connection-text">Not Connected</span>
                </div>
              </div>
              <div class="panel-content">
                <div class="calendar-reminder-form">
                  <div class="reminder-input-group">
                    <input
                      type="text"
                      placeholder="Task name"
                      class="reminder-input"
                    />
                    <input type="datetime-local" class="reminder-input" />
                  </div>
                  <button class="btn btn-primary">
                    Create Calendar Reminders
                  </button>
                </div>
              </div>
            </div>

            <!-- White Noise Panel -->
            <div class="feature-panel" id="whiteNoisePanel">
              <div class="panel-header">
                <h2>White Noise</h2>
              </div>
              <div class="panel-content">
                <div class="audio-control">
                  <button class="btn btn-wellness toggle-btn btn-large">
                    <span class="icon">üîä</span>
                    <span>Toggle White Noise</span>
                  </button>
                </div>

                <div class="sound-presets">
                  <h3>Sound Presets</h3>
                  <div class="preset-grid">
                    <button class="preset-btn">
                      <span class="preset-icon">üåßÔ∏è</span>
                      <span class="preset-name">Rain</span>
                    </button>
                    <button class="preset-btn active">
                      <span class="preset-icon">üåä</span>
                      <span class="preset-name">Ocean</span>
                    </button>
                    <button class="preset-btn">
                      <span class="preset-icon">üå≤</span>
                      <span class="preset-name">Forest</span>
                    </button>
                    <button class="preset-btn">
                      <span class="preset-icon">‚òï</span>
                      <span class="preset-name">Caf√©</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- ASMR Toys Panel -->
            <div class="feature-panel" id="asmrToysPanel">
              <div class="panel-header">
                <h2>ASMR & Fidget Tools</h2>
              </div>
              <div class="panel-content">
                <div class="asmr-intro">
                  <p>
                    Interactive tools to help you relax and focus through
                    sensory experiences.
                  </p>
                </div>
                <div class="asmr-tools">
                  <button class="btn btn-external btn-large">
                    <span class="icon">üéµ</span>
                    <span>Open ASMR & Fidget Tools</span>
                  </button>
                </div>
                <div class="asmr-preview">
                  <h3>Available Tools</h3>
                  <div class="tool-grid">
                    <div class="tool-card">
                      <div class="tool-icon">üé®</div>
                      <div class="tool-name">Digital Fidget Spinner</div>
                    </div>
                    <div class="tool-card">
                      <div class="tool-icon">ü´ß</div>
                      <div class="tool-name">Bubble Wrap</div>
                    </div>
                    <div class="tool-card">
                      <div class="tool-icon">üåÄ</div>
                      <div class="tool-name">Stress Ball</div>
                    </div>
                    <div class="tool-card">
                      <div class="tool-icon">üéµ</div>
                      <div class="tool-name">ASMR Sounds</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Wellness Tools Panel -->
            <div class="feature-panel" id="wellnessToolsPanel">
              <div class="panel-header">
                <h2>Wellness Tools</h2>
              </div>
              <div class="panel-content">
                <div class="wellness-intro">
                  <p>
                    Comprehensive tools for mental health and anxiety
                    management.
                  </p>
                </div>
                <div class="wellness-tools">
                  <button class="btn btn-external btn-large">
                    <span class="icon">üßò</span>
                    <span>Focus & Anxiety Management</span>
                  </button>
                </div>
                <div class="wellness-features">
                  <h3>Available Features</h3>
                  <div class="feature-list">
                    <div class="feature-item">
                      <div class="feature-icon">üß†</div>
                      <div class="feature-info">
                        <div class="feature-name">Mindfulness Exercises</div>
                        <div class="feature-desc">
                          Guided meditation and mindfulness
                        </div>
                      </div>
                    </div>
                    <div class="feature-item">
                      <div class="feature-icon">üòå</div>
                      <div class="feature-info">
                        <div class="feature-name">Anxiety Relief</div>
                        <div class="feature-desc">
                          Techniques for managing anxiety
                        </div>
                      </div>
                    </div>
                    <div class="feature-item">
                      <div class="feature-icon">üí≠</div>
                      <div class="feature-info">
                        <div class="feature-name">Thought Exercises</div>
                        <div class="feature-desc">
                          Cognitive behavioral techniques
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="debug-panel">
        <h4>Debug Information</h4>
        <div>Current Feature: <span id="currentFeatureDebug">home</span></div>
        <div>Feature Switches: <span id="featureSwitchCount">0</span></div>
        <div class="debug-info" id="debugLog">
          <div>Demo loaded successfully</div>
        </div>
      </div>
    </div>

    <script>
      // Simple feature switching demo functionality
      let featureSwitchCount = 0;
      let currentFeature = "home";

      function updateDebug(message) {
        const debugLog = document.getElementById("debugLog");
        const timestamp = new Date().toLocaleTimeString();
        const logEntry = document.createElement("div");
        logEntry.textContent = `${timestamp}: ${message}`;
        debugLog.appendChild(logEntry);
        debugLog.scrollTop = debugLog.scrollHeight;

        // Keep only last 5 entries
        while (debugLog.children.length > 5) {
          debugLog.removeChild(debugLog.firstChild);
        }
      }

      function switchToFeature(featureId) {
        // Update debug info
        featureSwitchCount++;
        currentFeature = featureId || "home";
        document.getElementById("currentFeatureDebug").textContent =
          currentFeature;
        document.getElementById("featureSwitchCount").textContent =
          featureSwitchCount;
        updateDebug(`Switched to ${currentFeature} feature`);

        // Update feature buttons
        document.querySelectorAll(".feature-btn").forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.feature === featureId);
        });

        // Update feature panels
        document.querySelectorAll(".feature-panel").forEach((panel) => {
          if (
            panel.classList.contains("active") &&
            panel.id !== `${featureId}Panel`
          ) {
            panel.classList.add("switching-out");
            setTimeout(() => {
              panel.classList.remove("active", "switching-out");
            }, 100);
          }
        });

        // Show new panel or home
        setTimeout(() => {
          let targetPanel;
          if (featureId) {
            targetPanel = document.getElementById(`${featureId}Panel`);
          } else {
            targetPanel = document.getElementById("homePanel");
          }

          if (targetPanel) {
            targetPanel.classList.add("active");
          }
        }, 100);
      }

      // Initialize demo
      document.addEventListener("DOMContentLoaded", () => {
        // Feature navigation listeners
        document.querySelectorAll(".feature-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            const featureId = e.currentTarget.dataset.feature;
            switchToFeature(featureId);
          });
        });

        // Home button (clicking outside features)
        document.querySelector(".title").addEventListener("click", () => {
          switchToFeature(null);
        });

        updateDebug("Feature grid interface demo initialized");
      });

      // Keyboard shortcuts
      document.addEventListener("keydown", (e) => {
        if (e.ctrlKey || e.metaKey) {
          const keyMap = {
            1: "break-reminder",
            2: "focus-tracking",
            3: "pomodoro",
            4: "breathing",
            5: "task-breakdown",
            6: "calendar",
            7: "white-noise",
            8: "asmr-toys",
            9: "wellness-tools",
            0: null, // Home
          };

          if (keyMap.hasOwnProperty(e.key)) {
            e.preventDefault();
            switchToFeature(keyMap[e.key]);
            updateDebug(`Keyboard shortcut: Ctrl+${e.key}`);
          }
        }
      });

      console.log("Focus Productivity Extension - Feature Grid Demo");
      console.log("Use Ctrl+1-9 to switch between features, Ctrl+0 for home");
    </script>
  </body>
</html>
